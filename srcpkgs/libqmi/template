# Template file for 'libqmi'
pkgname=libqmi
version=1.34.0
revision=1
build_style=meson
build_helper=gir
configure_args="-Dqrtr=true -Dmbim_qmux=true -Dbash_completion=false -Dcollection=full -Dman=false"
hostmakedepends="pkg-config glib-devel"
makedepends="glib-devel libgudev-devel libmbim-devel libqrtr-glib-devel"
short_desc="QMI modem protocol helper library"
maintainer="Arseniy <me@adomerle.pw>"
license="GPL-2.0-or-later, LGPL-2.1-or-later"
homepage="http://www.freedesktop.org/wiki/Software/libqmi/"
distfiles="https://github.com/linux-mobile-broadband/libqmi/archive/refs/tags/${version}.tar.gz"
checksum=8690d25b4d110b6df28b31da0a8bf16c7e966d31abcfeeb854f2753451e7a400

libqmi-devel_package() {
	depends="${makedepends} ${sourcepkg}-${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
		vmove usr/share
	}
}
